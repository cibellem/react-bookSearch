(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,a,t){e.exports=t(549)},128:function(e,a,t){},146:function(e,a,t){},147:function(e,a,t){},148:function(e,a,t){},149:function(e,a,t){},152:function(e,a,t){},50:function(e){e.exports={cognito:{REGION:" us-east-2",USER_POOL_ID:"us-east-2_oWKHIbVAG",APP_CLIENT_ID:"521hfapuhem2ptijk057ttcal5"}}},546:function(e,a,t){},547:function(e,a,t){},549:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(20),o=t.n(s),l=t(23),c=t.n(l),i=t(29),m=t(30),u=t(31),d=t(35),h=t(32),f=t(36),p=t(554),v=t(555),E=t(556),g=(t(128),t(25)),b=t(39),w=t.n(b),N={getBook:function(e){return w.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=AIzaSyAQyE5qbJ1H76JhCYlBO72T6qYHyv5TjQ8"))},saveBook:function(e){return w.a.post("/api/books",e)},getAllFavorites:function(){return w.a.get("/api/books")},deleteBook:function(e){return w.a.delete("/api/books/"+e)},getBookByTitle:function(e){return w.a.get("/api/books/title/"+e)}};t(146),t(147);var k=function(){return r.a.createElement("nav",{className:"nav-bg"},r.a.createElement("div",{className:"nav-div overlay"},r.a.createElement("ul",{className:" nav-ul nav justify-content-end"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link navLink",href:"/home"},"Home",r.a.createElement("i",{className:"fas fa-home mx-2"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link navLink",href:"/favorites"},"Favorites",r.a.createElement("i",{className:"fas fa-heart mx-2"}))))))};var y=function(){var e=Object(n.useState)([]),a=Object(g.a)(e,2),t=a[0],s=a[1];return Object(n.useEffect)(function(){N.getAllFavorites().then(function(e){return s(e.data)}).catch(function(e){return console.log(e)})},[]),console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container book-favorites-container "},r.a.createElement("p",{className:"favorite-header"},"Your Favorite list ",r.a.createElement("i",{className:"far hear-icon-fav fa-heart"})),r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement("div",{key:e._id,className:"col-md-3   col-sm-12  book-card"},r.a.createElement("img",{src:e.cover,className:"book-cover center-align",alt:"Book Cover"}),r.a.createElement("h5",{className:!0}," Title: ",e.title),r.a.createElement("h6",null," ",e.subtitle),r.a.createElement("h6",null,"Author: ",e.author),r.a.createElement("h6",null,"Category: ",e.category)," ",r.a.createElement("div",{className:"row float-right"},r.a.createElement("i",{onClick:function(){return function(e){var a=e._id;N.deleteBook(a).then(function(e){return console.log(e.data)}),window.location.reload()}(e)},class:"far  delete-icon fa-trash-alt"})))}))))},O=(t(148),t(119)),j=(t(149),t(51));var I=function(e){var a=Object(n.useState)([]),t=Object(g.a)(a,2),s=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(g.a)(l,2),i=c[0],m=c[1],u=function(){return m(!0)};return console.log(s),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{centered:!0,size:"sm",show:i,onHide:function(){return m(!1)}},r.a.createElement(j.a.Header,{className:"modal-header-bookCard",closeButton:!0}),r.a.createElement(j.a.Body,{className:"modal-body-bookCard"},"It looks like this book it's already in your favorites"," ",r.a.createElement("i",{class:"fas fa-heart"}))),r.a.createElement("div",{className:"book-card-container  "},r.a.createElement("div",{className:"row"},e.results.map(function(e){return r.a.createElement("div",{key:e.title,className:"col-md-3   col-sm-12  book-card"},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="https://via.placeholder.com/150"},src:e.imageLinks.thumbnail,className:"book-cover center-align",alt:"Book Cover"}),r.a.createElement("h5",{className:!0}," Title: ",e.title),r.a.createElement("h6",null," ",e.subtitle),r.a.createElement("h6",null,"Author: ",e.authors),r.a.createElement("h6",null,"Category: ",e.categories)," ",r.a.createElement("i",{onClick:function(){return function(e){var a=e.title;N.getBookByTitle(a).then(function(a){if(a.data)u(!0);else{var t={title:e.title,cover:e.imageLinks.thumbnail,author:e.authors,category:e.categories};N.saveBook(t).then(function(e){return console.log("Book added to Favorites and saved to database")}),o(function(e){return[].concat(Object(O.a)(e),[t])})}})}(e)},id:e.title,className:"far fa-heart"}))}))))};var B=function(){var e=Object(n.useState)(""),a=Object(g.a)(e,2),t=a[0],s=a[1],o=Object(n.useState)([]),l=Object(g.a)(o,2),c=l[0],i=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("h6",{className:"bookQuote"},"You don\u2019t have to burn books to destroy a culture. Just get people to stop reading them.\u201d \u2013 Ray Bradbury"),r.a.createElement("div",{className:" container search-box "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"search-label",htmlFor:"search"},"Search a book by tittle/word/author:")),r.a.createElement("div",{className:"row input-row "},r.a.createElement("input",{className:" form-control  col-md-10 col-sm-12 search-input",type:"text",name:"search",id:"searchInput",value:t,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{className:"search-button button ",onClick:function(){N.getBook(t).then(function(e){var a=e.data.items,t=[];a.forEach(function(e){var a=e.volumeInfo;t.push(a)}),i(t)})}},"Find Book",r.a.createElement("i",{class:"mx-2 fas fa-search"}))))),r.a.createElement("section",{className:"container-fluid"},r.a.createElement(I,{results:c,search:t}))))},S=t(33),C=t(37);t(152);var L=function(e,a){for(var t=document.getElementsByClassName("invalid"),n=0;n<t.length;n++)t[n].classList.contains("error")||t[n].classList.remove("invalid");return a.hasOwnProperty("username")&&""===a.username?(document.getElementById("username").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("firstname")&&""===a.firstname?(document.getElementById("firstname").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("lastname")&&""===a.lastname?(document.getElementById("lastname").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("email")&&""===a.email?(document.getElementById("email").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("verificationcode")&&""===a.verificationcode?(document.getElementById("verificationcode").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("password")&&""===a.password?(document.getElementById("password").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("oldpassword")&&""===a.oldpassword?(document.getElementById("oldpassword").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("newpassword")&&""===a.newpassword?(document.getElementById("newpassword").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("confirmpassword")&&""===a.confirmpassword?(document.getElementById("confirmpassword").classList.add("invalid"),{blankfield:!0}):a.hasOwnProperty("password")&&a.hasOwnProperty("confirmpassword")&&a.password!==a.confirmpassword?(document.getElementById("password").classList.add("invalid"),document.getElementById("confirmpassword").classList.add("invalid"),{passwordmatch:!0}):a.hasOwnProperty("newpassword")&&a.hasOwnProperty("confirmpassword")&&a.newpassword!==a.confirmpassword?(document.getElementById("newpassword").classList.add("invalid"),document.getElementById("confirmpassword").classList.add("invalid"),{passwordmatch:!0}):void 0},A=t(22);var x=function(e){return e.formerrors&&(e.formerrors.blankfield||e.formerrors.passwordmatch)?r.a.createElement("div",{className:"error container help is-danger"},r.a.createElement("div",{className:"row justify-content-center"},e.formerrors.passwordmatch?"Password value does not match confirm password value":""),r.a.createElement("div",{className:"row justify-content-center help is-danger"},e.formerrors.blankfield?"All fields are required":"")):e.apierrors?r.a.createElement("div",{className:"error container help is-danger"},r.a.createElement("div",{className:"row justify-content-center"},e.apierrors)):e.formerrors&&e.formerrors.cognito?r.a.createElement("div",{className:"error container help is-danger"},r.a.createElement("div",{className:"row justify-content-center"},e.formerrors.cognito.message)):r.a.createElement("div",null)},P=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",errors:{cognito:null,blankfield:!1}},t.clearErrorState=function(){t.setState({errors:{cognito:null,blankfield:!1}})},t.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(a){var n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.clearErrorState(),(n=L(a,t.state))&&t.setState({errors:Object(C.a)({},t.state.errors,n)}),e.prev=4,e.next=7,A.a.signIn(t.state.username,t.state.password);case 7:r=e.sent,console.log(r),t.props.auth.setAuthStatus(!0),t.props.auth.setUser(r),t.props.history.push("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),s=null,s=e.t0.message?e.t0:{message:e.t0},t.setState({errors:Object(C.a)({},t.state.errors,{cognito:s})});case 19:case"end":return e.stop()}},e,null,[[4,14]])}));return function(a){return e.apply(this,arguments)}}(),t.onInputChange=function(e){t.setState(Object(S.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section auth"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Log in"),r.a.createElement(x,{formerrors:this.state.errors}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input",type:"text",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username or email",value:this.state.username,onChange:this.onInputChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("a",{href:"/forgotpassword"},"Forgot password?"))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success"},"Login"))))))}}]),a}(n.Component),F=(t(546),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},t.clearErrorState=function(){t.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},t.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(a){var n,r,s,o,l,i,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.clearErrorState(),(n=L(a,t.state))&&t.setState({errors:Object(C.a)({},t.state.errors,n)}),r=t.state,s=r.username,o=r.email,l=r.password,e.prev=5,e.next=8,A.a.signUp({username:s,password:l,attributes:{email:o}});case 8:i=e.sent,t.props.history.push("/home"),console.log(i),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),m=null,m=e.t0.message?e.t0:{message:e.t0},t.setState({errors:Object(C.a)({},t.state.errors,{cognito:m})});case 18:case"end":return e.stop()}},e,null,[[5,13]])}));return function(a){return e.apply(this,arguments)}}(),t.onInputChange=function(e){t.setState(Object(S.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"login-nav"},r.a.createElement("h2",{className:"nav-link logo"}," Book Shelfie "),r.a.createElement("h6",{className:"logo-description"},"Browse books and save your favotires one to read later"),r.a.createElement("ul",{class:"nav justify-content-end"},r.a.createElement("li",{className:"nav-item"}," ",r.a.createElement("a",{className:"nav-link register-link",href:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"}," ",r.a.createElement("a",{className:"nav-link login-link",href:"/login"},"Login")))),r.a.createElement("section",{className:"section auth"},r.a.createElement("div",{className:" container-fluid"},r.a.createElement(x,{formerrors:this.state.errors}),r.a.createElement("form",{className:"col-6 register-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"Enter username",value:this.state.username,onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control ",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control ",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control ",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange})),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("a",{href:"/forgotpassword"},"Forgot password?"))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:" btn button register-button"},"Register")))))))}}]),a}(n.Component));t(547);var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"login-nav"},r.a.createElement("h2",{className:"nav-link logo"}," Book Shelfie "),r.a.createElement("h6",{className:"logo-description"},"Browse books and save your favotires one to read later"),r.a.createElement("ul",{class:"nav justify-content-end"},r.a.createElement("li",{className:"nav-item"}," ",r.a.createElement("a",{className:"nav-link register-link",href:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"}," ",r.a.createElement("a",{className:"nav-link login-link",href:"/login"},"Login")))))},H=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={isAuthenticated:!1,isAuthenticating:!0,user:null},t.setAuthStatus=function(e){t.setState({isAuthenticated:e})},t.setUser=function(e){t.setState({user:e})},t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){var a,t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.currentSession();case 3:return a=e.sent,this.setAuthStatus(!0),console.log(a),e.next=8,A.a.currentAuthenticatedUser();case 8:t=e.sent,this.setUser(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),"No current user"!==e.t0&&console.log(e.t0);case 15:this.setState({isAuthenticating:!1});case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,user:this.state.user,setAuthStatus:this.setAuthStatus,setUser:this.setUser};return!this.state.isAuthenticating&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{exact:!0,path:"/favorites",component:y}),r.a.createElement(E.a,{exact:!0,path:"/home",component:B}),r.a.createElement(E.a,{exact:!0,path:"/login",component:P}),r.a.createElement(E.a,{exact:!0,path:"/register",render:function(a){return r.a.createElement(F,Object.assign({},a,{auth:e}))}}),r.a.createElement(E.a,{exact:!0,path:"/",component:_}))))}}]),a}(n.Component),U=t(50);A.b.configure({Auth:{mandatorySignIn:!0,region:U.cognito.REGION,userPoolId:U.cognito.USER_POOL_ID,userPoolWebClientId:U.cognito.APP_CLIENT_ID}}),o.a.render(r.a.createElement(H,null),document.getElementById("root"))},58:function(e,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.5d468160.chunk.js.map